{"version":3,"sources":["components/image.js","components/x-directory.js","components/gltf.js","components/video.js","components/wallet.js","app.js","index.js"],"names":["Image","url","render","useState","src","setSrc","rendering","setRendering","useEffect","style","width","height","objectFit","imageRendering","XDirectory","border","GLTF","autoplay","auto-rotate","interaction-prompt","Video","autoPlay","loop","muted","playsInline","Wallet","current","setCurrent","tokens","setTokens","address","useParams","getTokens","offset","Promise","resolve","reject","fetch","then","response","ok","status","json","data","concat","balances","length","total","catch","replaceIPFS","alt","replace","indexOf","console","log","position","top","right","bottom","left","object","formats","mimeType","uri","renderObject","cursor","onClick","App","path","children","className","type","placeholder","onChange","e","document","location","target","value","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dff1c64b.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nexport default function Image({ url, render = 'pixelated' }) {\n  const [src, setSrc] = useState(url);\n  const [rendering, setRendering] = useState(render);\n\n  useEffect(() => {\n    setSrc(url);\n    setRendering(rendering);\n  }, [url, rendering]);\n\n  return (\n    <img\n      style={{\n        width: '100%',\n        height: '100%',\n        objectFit: 'contain',\n        imageRendering: rendering,\n      }}\n      src={src}\n    />\n  );\n}\n","import React, { useEffect, useState } from 'react';\n\nexport default function XDirectory({ url }) {\n  const [src, setSrc] = useState(url);\n\n  useEffect(() => {\n    setSrc(url);\n  }, [url]);\n\n  return (\n    <iframe\n      style={{\n        width: '100%',\n        height: '100%',\n        border: 0,\n      }}\n      src={src}\n    />\n  );\n}\n","import React, { useEffect, useState } from 'react';\n\nexport default function GLTF({ url }) {\n  const [src, setSrc] = useState(url);\n\n  useEffect(() => {\n    setSrc(url);\n  }, [url]);\n\n  return (\n    <model-viewer\n      style={{\n        width: '100%',\n        height: '100%',\n      }}\n      autoplay\n      auto-rotate\n      interaction-prompt=\"none\"\n      src={src}\n    />\n  );\n}\n","import React, { useEffect, useState } from 'react';\n\nexport default function Video({ url }) {\n  const [src, setSrc] = useState(url);\n\n  useEffect(() => {\n    setSrc(url);\n  }, [url]);\n\n  return (\n    <video\n      style={{\n        width: '100%',\n        height: '100%',\n      }}\n      autoPlay\n      loop\n      muted\n      playsInline\n      src={src}\n    />\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport Image from './image';\nimport XDirectory from './x-directory';\nimport GLTF from './gltf';\nimport Video from './video';\nimport '../main.css';\nimport { useParams } from \"react-router-dom\";\n\nexport default function Wallet() {\n  const [current, setCurrent] = useState(null);\n  const [tokens, setTokens] = useState([]);\n  let { address } = useParams();\n\n  useEffect(() => {\n    if (address) {\n      getTokens(address).then((tokens) => {\n        setTokens(tokens);\n      });\n    }\n  }, [address]);\n\n  useEffect(() => {\n    if (current) {\n      setCurrent(tokens[(tokens.indexOf(current) + 1) % tokens.length])\n    } else {\n      setCurrent(tokens[0])\n    }\n  }, [tokens]);\n\n  useEffect(() => {\n    console.log(current);\n  }, [current]);\n\n  function getTokens(address, offset = 0, tokens = []) {\n    return new Promise((resolve, reject) => fetch(`https://api.better-call.dev/v1/account/mainnet/${address}/token_balances?size=50&offset=${offset}`)\n      .then((response) => {\n        if (!response.ok) {\n          throw `HTTP error ${response.status}`;\n        }\n        response.json().then((data) => {\n          tokens = tokens.concat(data.balances);\n\n          if (tokens.length < data.total) {\n            getTokens(address, tokens.length, tokens).then(resolve).catch(reject);\n          } else {\n            resolve(tokens);\n          }\n        }).catch(reject)\n      }).catch(reject)\n    );\n  }\n\n  function replaceIPFS(url, alt) {\n    if (alt) {\n      return (url) ? url.replace('ipfs://', 'https://ipfs.io/ipfs/') : null;\n    } else {\n      return (url) ? url.replace('ipfs://', 'https://cloudflare-ipfs.com/ipfs/') : null;\n    }\n  }\n\n  function renderObject(object) {\n    switch (object.formats[0].mimeType) {\n      case 'image/jpeg':\n      case 'image/png':\n      case 'image/gif':\n        return <Image url={replaceIPFS(current.formats[0].uri)} />\n        break;\n      case 'application/x-directory':\n      case 'image/svg+xml':\n        return <XDirectory url={replaceIPFS(current.formats[0].uri)} />\n        break;\n      case 'model/gltf-binary':\n      case 'model/gltf+json':\n        return <GLTF url={replaceIPFS(current.formats[0].uri)} />\n        break;\n      case 'video/mp4':\n      case 'video/ogg':\n        return <Video url={replaceIPFS(current.formats[0].uri, true)} />\n        break;\n    }\n  }\n\nreturn (\n    <div>\n      {current && <div\n        style= {{\n          position: 'absolute',\n          top: 0,\n          right: 0,\n          bottom: 0,\n          left: 0,\n        }}\n      >\n        {renderObject(current)}\n      </div>}\n      <div\n        style= {{\n          position: 'absolute',\n          top: 0,\n          right: 0,\n          bottom: 0,\n          left: '80%',\n          cursor: 'e-resize',\n        }}\n        onClick={() => {\n          setCurrent(tokens[(tokens.indexOf(current) + 1) % tokens.length])\n        }}\n      />\n      <div\n        style= {{\n          position: 'absolute',\n          top: 0,\n          right: '80%',\n          bottom: 0,\n          left: 0,\n          cursor: 'w-resize',\n        }}\n        onClick={() => {\n          setCurrent(tokens[(tokens.indexOf(current) - 1) % tokens.length])\n        }}\n      />\n    </div>\n  )\n}\n","import React from 'react';\nimport {\n  HashRouter,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport Wallet from './components/wallet'\nimport './main.css';\n\nexport default function App() {\n  const change = e => document.location = `#/${e.target.value}`;\n\n  return (\n    <HashRouter>\n      <Switch>\n        <Route path=\"/:address\" children={<Wallet />} />\n        <Route path=\"/\" children={\n          <div className=\"middle-out\">\n            <input type=\"text\" placeholder=\"Address:\" onChange={change} />\n          </div>\n        } />\n      </Switch>\n    </HashRouter>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './main.css';\nimport App from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}