{"version":3,"sources":["components/image.js","components/x-directory.js","components/gltf.js","components/video.js","components/wallet.js","app.js","index.js"],"names":["Image","url","render","useState","src","setSrc","rendering","setRendering","useEffect","style","width","height","objectFit","imageRendering","XDirectory","border","GLTF","autoplay","auto-rotate","interaction-prompt","Video","autoPlay","loop","muted","playsInline","getTokens","address","a","offset","tokens","fetch","response","json","data","concat","balances","length","total","replaceIPFS","alt","replace","renderObject","object","formats","mimeType","uri","key","artifact_uri","Wallet","useParams","setTokens","fetchTokens","useTokens","currentIndex","setCurrentIndex","current","useMemo","next","useCallback","prev","console","log","position","top","right","bottom","left","cursor","onClick","App","path","className","type","placeholder","onChange","e","document","location","target","value","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.30472eb2.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nexport default function Image({ url, render = 'pixelated' }) {\n  const [src, setSrc] = useState(url);\n  const [rendering, setRendering] = useState(render);\n\n  useEffect(() => {\n    setSrc(url);\n    setRendering(rendering);\n  }, [url, rendering]);\n\n  return (\n    <img\n      style={{\n        width: '100%',\n        height: '100%',\n        objectFit: 'contain',\n        imageRendering: rendering,\n      }}\n      src={src}\n    />\n  );\n}\n","import React, { useEffect, useState } from 'react';\n\nexport default function XDirectory({ url }) {\n  const [src, setSrc] = useState(url);\n\n  useEffect(() => {\n    setSrc(url);\n  }, [url]);\n\n  return (\n    <iframe\n      style={{\n        width: '100%',\n        height: '100%',\n        border: 0,\n      }}\n      src={src}\n    />\n  );\n}\n","import React, { useEffect, useState } from 'react';\n\nexport default function GLTF({ url }) {\n  const [src, setSrc] = useState(url);\n\n  useEffect(() => {\n    setSrc(url);\n  }, [url]);\n\n  return (\n    <model-viewer\n      style={{\n        width: '100%',\n        height: '100%',\n      }}\n      autoplay\n      auto-rotate\n      interaction-prompt=\"none\"\n      src={src}\n    />\n  );\n}\n","import React, { useEffect, useState } from 'react';\n\nexport default function Video({ url }) {\n  const [src, setSrc] = useState(url);\n\n  useEffect(() => {\n    setSrc(url);\n  }, [url]);\n\n  return (\n    <video\n      style={{\n        width: '100%',\n        height: '100%',\n      }}\n      autoPlay\n      loop\n      muted\n      playsInline\n      src={src}\n    />\n  );\n}\n","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport Image from './image';\nimport XDirectory from './x-directory';\nimport GLTF from './gltf';\nimport Video from './video';\nimport '../main.css';\nimport { useParams } from \"react-router-dom\";\n\nasync function getTokens(address, offset = 0, tokens = []) {\n  const response = await fetch(`https://api.better-call.dev/v1/account/mainnet/${address}/token_balances?size=50&offset=${offset}`);\n\n  const data = await response.json();\n\n  tokens = tokens.concat(data.balances);\n\n  if (tokens.length < data.total) {\n    return await getTokens(address, tokens.length, tokens)\n  } else {\n    return tokens\n  }\n}\n\nfunction replaceIPFS(url, alt) {\n  if (alt) {\n    return (url) ? url.replace('ipfs://', 'https://ipfs.infura.io/ipfs/') : null;\n  } else {\n    return (url) ? url.replace('ipfs://', 'https://ipfs.infura.io/ipfs/') : null;\n  }\n}\n\nfunction renderObject(object) {\n  const {mimeType, uri} = object.formats[0];\n  const key = object.artifact_uri;\n\n  switch (mimeType) {\n    case 'image/jpeg':\n    case 'image/png':\n    case 'image/gif':\n      return <Image key={key} url={replaceIPFS(uri)} />\n    case 'application/x-directory':\n    case 'image/svg+xml':\n      return <XDirectory key={key} url={replaceIPFS(uri)} />\n    case 'model/gltf-binary':\n    case 'model/gltf+json':\n      return <GLTF key={key} url={replaceIPFS(uri)} />\n    case 'video/mp4':\n    case 'video/ogg':\n      return <Video key={key} url={replaceIPFS(uri, true)} />\n    default:\n      return null;\n  }\n}\n\nfunction useTokens(address) {\n  const [tokens, setTokens] = useState([]);\n\n  useEffect(() => {\n    async function fetchTokens() {\n      if(address) {\n        const tokens = await getTokens(address);\n        setTokens(tokens);\n      }\n    }\n    fetchTokens()\n  }, [address]);\n\n  return tokens;\n}\n\nexport default function Wallet() {\n  const {address} = useParams();\n  const tokens = useTokens(address);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const current = useMemo(() => tokens[currentIndex], [tokens, currentIndex]);\n\n  const next = useCallback(() =>\n    setCurrentIndex((currentIndex + 1) % tokens.length),\n  [currentIndex, tokens])\n\n  const prev = useCallback(() =>\n    setCurrentIndex(currentIndex + 1 >= tokens.length ? 0 : currentIndex - 1),\n  [currentIndex, tokens])\n\n  useEffect(() => {\n    console.log({address, current, currentIndex})\n  }, [address, current, currentIndex])\n\n  return (\n    <div>\n      {current && <div\n        style={{\n          position: 'absolute',\n          top: 0,\n          right: 0,\n          bottom: 0,\n          left: 0,\n        }}\n      >\n        {renderObject(current)}\n      </div>}\n      <div\n        style={{\n          position: 'absolute',\n          top: 0,\n          right: 0,\n          bottom: 0,\n          left: '80%',\n          cursor: 'e-resize',\n        }}\n        onClick={next}\n      />\n      <div\n        style={{\n          position: 'absolute',\n          top: 0,\n          right: '80%',\n          bottom: 0,\n          left: 0,\n          cursor: 'w-resize',\n        }}\n        onClick={prev}\n      />\n    </div>\n  )\n}\n","import React from 'react';\nimport {\n  HashRouter,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport Wallet from './components/wallet'\nimport './main.css';\n\nexport default function App() {\n  const change = e => document.location = `#/${e.target.value}`;\n\n  return (\n    <HashRouter>\n      <Switch>\n        <Route path=\"/:address\">\n          <Wallet />\n        </Route>\n        <Route path=\"/\">\n          <div className=\"middle-out\">\n            <input type=\"text\" placeholder=\"Address:\" onChange={change} />\n          </div>\n        </Route>\n      </Switch>\n    </HashRouter>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './main.css';\nimport App from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}